@model DabTrial.Models.ProtocolViolationEdit

@{
    ViewBag.Title = "Edit Violation";
}

@using (Ajax.BeginForm("Edit", "ProtocolViolation", new AjaxOptions { HttpMethod = "post", OnSuccess = "closeAndAddOrChangeRow", OnFailure = "handleErrorResponse", LoadingElementId = "ajaxRequest_processing" }))
{
    if (!(ViewBag.IsAjax ?? Request.IsAjaxRequest())) { @Html.AntiForgeryToken(); }
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>ProtocolViolation</legend>
        @Html.HiddenFor(model => model.ViolationId)
        @Html.EditorFor(model => model.TrialParticipantLocalTimeRandomised)
        <table>
            <tbody>
               <tr class="display-row">
                    <td class="display-label">
                        @Html.LabelFor(model => model.ParticipantId)
                    </td>
                    <td class="display-field">
                        @Html.DisplayFor(model => model.ParticipantId)
                    </td>
                    <td></td>
                </tr>
                <tr class="display-row">
                    <td class="display-label">
                        @Html.LabelFor(model => model.TrialParticipantHospitalId)
                    </td>
                    <td class="display-field">
                        @Html.DisplayFor(model => model.TrialParticipantHospitalId)
                    </td>
                    <td></td>
                </tr>
                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelFor(model => model.ViolationSeverity)
                    </td>
                    <td class="editor-field">
                        @Html.EnumDropDownListFor(model => model.ViolationSeverity)
                    
                        @Html.ValidationMessageFor(model => model.ViolationSeverity)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelFor(model => model.TimeOfViolation)
                    </td>
                    <td class="editor-field">
                        @Html.EditorFor(model => model.TimeOfViolation)
                    
                        @Html.ValidationMessageFor(model => model.TimeOfViolation)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelFor(model => model.Details)
                    </td>
                    <td class="editor-field">
                        @Html.EditorFor(model => model.Details)
                    
                        @Html.ValidationMessageFor(model => model.Details)
                    </td>
                </tr>

                <tr>
                    <td></td>
                    <td>
                        <input type="submit" value="Save">
                    </td>
                </tr>
    
            </tbody>
        </table>
    </fieldset>
}

