@model DabTrial.Models.RegisterModel

@{
    ViewBag.Title = "Register";
    Html.Assets().Libraries.Uses("FormTools");
}

<h2>Create a New Account</h2>
<p>
    Use the form below to create a new account. 
</p>
<p>
    Passwords are required to be a minimum of @Membership.MinRequiredPasswordLength characters in length.
</p>

@using (Html.BeginForm(new { ReturnUrl = ViewBag.ReturnUrl }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "Account creation was unsuccessful. Please correct the errors and try again.")
    <fieldset>
        <legend>Account Information</legend>
        <table>
            <tbody>
                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelDetailsFor(m => m.SiteSpecificPassword)
                    </td>
                    <td class="editor-field">
                        @Html.TextBoxFor(m => m.SiteSpecificPassword)
                    
                        @Html.ValidationMessageFor(m => m.SiteSpecificPassword)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelDetailsFor(m => m.Email)
                    </td>
                    <td class="editor-field">
                        @Html.TextBoxFor(m => m.Email)
                    
                        @Html.ValidationMessageFor(m => m.Email)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelDetailsFor(m => m.UserName)
                    </td>
                    <td class="editor-field">
                        @Html.TextBoxFor(m => m.UserName, Html.PartialMirrorAttributesFor(model=>model.Email, "^([^@]*)"))
                    
                        @Html.ValidationMessageFor(m => m.UserName)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelDetailsFor(m => m.FirstName)
                    </td>
                    <td class="editor-field">
                        @Html.TextBoxFor(m => m.FirstName)
                    
                        @Html.ValidationMessageFor(m => m.FirstName)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelDetailsFor(m => m.LastName)
                    </td>
                    <td class="editor-field">
                        @Html.TextBoxFor(m => m.LastName)
                    
                        @Html.ValidationMessageFor(m => m.LastName)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelDetailsFor(model => model.ProfessionalRole)
                    </td>
                    <td class="editor-field">
                        @Html.EnumDropDownListFor(model => model.ProfessionalRole)
                    
                        @Html.ValidationMessageFor(model => model.ProfessionalRole)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelDetailsFor(m => m.Password)
                    </td>
                    <td class="editor-field">
                        @Html.PasswordFor(m => m.Password)
                    
                        @Html.ValidationMessageFor(m => m.Password)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelDetailsFor(m => m.ConfirmPassword)
                    </td>
                    <td class="editor-field">
                        @Html.PasswordFor(m => m.ConfirmPassword)
                    
                        @Html.ValidationMessageFor(m => m.ConfirmPassword)
                    </td>
                </tr>

                <tr class="editor-row">
                    <td class="editor-label">
                        @Html.LabelDetailsFor(m => m.IncludePasswordInConfirmation)
                    </td>
                    <td class="editor-field">
                        @Html.EditorFor(m => m.IncludePasswordInConfirmation)

                        @Html.ValidationMessageFor(m => m.IncludePasswordInConfirmation)
                    </td>
                </tr>

                <tr>
                    <td></td>
                    <td>
                        <input type="submit" value="Register">
                    </td>
                </tr>
        
            </tbody>
        </table>
    </fieldset>
}
